<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Webå¼€å‘é¡¹ç›®ç¤ºä¾‹ - ä½¿ç”¨Claude AIæ„å»ºç°ä»£åŒ–Webåº”ç”¨ç¨‹åºçš„å®Œæ•´ç¤ºä¾‹">
  <meta name="keywords" content="Webå¼€å‘, React, Node.js, å…¨æ ˆå¼€å‘, Claude AI">
  <title>Webå¼€å‘é¡¹ç›®ç¤ºä¾‹ - Claude Code Club</title>
  <link rel="stylesheet" href="../styles/main.css">
  <link rel="stylesheet" href="../styles/tutorial.css">
  <link rel="canonical" href="https://ccclub.club/examples/web-development.html">
</head>

<body>
  <header class="header">
    <nav class="nav">
      <div class="nav-container">
        <a href="../" class="logo">
          <img src="../assets/logo-simple.png" alt="Claude Code Club" class="logo-img">
        </a>
        <ul class="nav-menu">
          <li><a href="../#home">é¦–é¡µ</a></li>
          <li><a href="../#tutorials">æ•™ç¨‹</a></li>
          <li><a href="../#examples">ç¤ºä¾‹</a></li>
          <li><a href="../community.html">ç¤¾åŒº</a></li>
          <li><a href="../about.html">å…³äº</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <main class="tutorial-content">
    <div class="container">
      <article class="tutorial-article">
        <header class="tutorial-header">
          <h1>Webå¼€å‘é¡¹ç›®ç¤ºä¾‹</h1>
          <div class="tutorial-meta">
            <span class="difficulty">é«˜çº§</span>
            <span class="duration">120åˆ†é’Ÿ</span>
            <span class="updated">æ›´æ–°æ—¶é—´: 2024å¹´8æœˆ</span>
          </div>
        </header>

        <div class="tutorial-toc">
          <h3>é¡¹ç›®å†…å®¹</h3>
          <ul>
            <li><a href="#project-overview">é¡¹ç›®æ¦‚è¿°</a></li>
            <li><a href="#backend-api">åç«¯APIå¼€å‘</a></li>
            <li><a href="#frontend-react">å‰ç«¯Reactåº”ç”¨</a></li>
            <li><a href="#database-design">æ•°æ®åº“è®¾è®¡</a></li>
            <li><a href="#authentication">ç”¨æˆ·è®¤è¯</a></li>
            <li><a href="#deployment">éƒ¨ç½²é…ç½®</a></li>
          </ul>
        </div>

        <section id="project-overview">
          <h2>é¡¹ç›®æ¦‚è¿°</h2>
          <p>æœ¬ç¤ºä¾‹å±•ç¤ºå¦‚ä½•ä½¿ç”¨Claude AIè¾…åŠ©å¼€å‘ä¸€ä¸ªå®Œæ•´çš„ä»»åŠ¡ç®¡ç†Webåº”ç”¨ï¼ŒåŒ…æ‹¬ç”¨æˆ·è®¤è¯ã€ä»»åŠ¡CRUDæ“ä½œã€å®æ—¶æ›´æ–°ç­‰åŠŸèƒ½ã€‚</p>

          <h3>æŠ€æœ¯æ ˆ</h3>
          <ul>
            <li><strong>åç«¯</strong>ï¼šNode.js + Express + MongoDB</li>
            <li><strong>å‰ç«¯</strong>ï¼šReact + TypeScript + Tailwind CSS</li>
            <li><strong>è®¤è¯</strong>ï¼šJWT + bcrypt</li>
            <li><strong>å®æ—¶é€šä¿¡</strong>ï¼šSocket.io</li>
            <li><strong>éƒ¨ç½²</strong>ï¼šDocker + Nginx</li>
          </ul>

          <h3>åŠŸèƒ½ç‰¹æ€§</h3>
          <ul>
            <li>ç”¨æˆ·æ³¨å†Œå’Œç™»å½•</li>
            <li>ä»»åŠ¡çš„å¢åˆ æ”¹æŸ¥</li>
            <li>ä»»åŠ¡çŠ¶æ€ç®¡ç†</li>
            <li>å®æ—¶åä½œåŠŸèƒ½</li>
            <li>å“åº”å¼è®¾è®¡</li>
          </ul>
        </section>

        <section id="backend-api">
          <h2>åç«¯APIå¼€å‘</h2>

          <h3>é¡¹ç›®åˆå§‹åŒ–</h3>
          <div class="code-block">
            <pre><code># åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir task-manager-app
cd task-manager-app

# åˆå§‹åŒ–åç«¯
mkdir backend
cd backend
npm init -y

# å®‰è£…ä¾èµ–
npm install express mongoose bcryptjs jsonwebtoken cors dotenv
npm install -D nodemon @types/node typescript

# åˆ›å»ºåŸºæœ¬ç›®å½•ç»“æ„
mkdir src
mkdir src/models src/routes src/middleware src/controllers</code></pre>
          </div>

          <h3>ExpressæœåŠ¡å™¨é…ç½®</h3>
          <div class="code-block">
            <pre><code>// src/app.js
const express = require('express');
const mongoose = require('mongoose');
const cors = require('cors');
require('dotenv').config();

const authRoutes = require('./routes/auth');
const taskRoutes = require('./routes/tasks');
const authMiddleware = require('./middleware/auth');

const app = express();

// ä¸­é—´ä»¶
app.use(cors());
app.use(express.json());

// æ•°æ®åº“è¿æ¥
mongoose.connect(process.env.MONGODB_URI || 'mongodb://localhost:27017/taskmanager', {
    useNewUrlParser: true,
    useUnifiedTopology: true,
});

// è·¯ç”±
app.use('/api/auth', authRoutes);
app.use('/api/tasks', authMiddleware, taskRoutes);

// é”™è¯¯å¤„ç†ä¸­é—´ä»¶
app.use((err, req, res, next) => {
    console.error(err.stack);
    res.status(500).json({ message: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯' });
});

const PORT = process.env.PORT || 5000;
app.listen(PORT, () => {
    console.log(`æœåŠ¡å™¨è¿è¡Œåœ¨ç«¯å£ ${PORT}`);
});

module.exports = app;</code></pre>
          </div>

          <h3>æ•°æ®æ¨¡å‹å®šä¹‰</h3>
          <div class="code-block">
            <pre><code>// src/models/User.js
const mongoose = require('mongoose');
const bcrypt = require('bcryptjs');

const userSchema = new mongoose.Schema({
    username: {
        type: String,
        required: true,
        unique: true,
        trim: true,
        minlength: 3,
        maxlength: 30
    },
    email: {
        type: String,
        required: true,
        unique: true,
        lowercase: true,
        match: [/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/, 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€']
    },
    password: {
        type: String,
        required: true,
        minlength: 6
    },
    avatar: {
        type: String,
        default: ''
    }
}, {
    timestamps: true
});

// å¯†ç åŠ å¯†ä¸­é—´ä»¶
userSchema.pre('save', async function(next) {
    if (!this.isModified('password')) return next();
    
    try {
        const salt = await bcrypt.genSalt(10);
        this.password = await bcrypt.hash(this.password, salt);
        next();
    } catch (error) {
        next(error);
    }
});

// å¯†ç éªŒè¯æ–¹æ³•
userSchema.methods.comparePassword = async function(candidatePassword) {
    return bcrypt.compare(candidatePassword, this.password);
};

module.exports = mongoose.model('User', userSchema);</code></pre>
          </div>

          <div class="code-block">
            <pre><code>// src/models/Task.js
const mongoose = require('mongoose');

const taskSchema = new mongoose.Schema({
    title: {
        type: String,
        required: true,
        trim: true,
        maxlength: 100
    },
    description: {
        type: String,
        trim: true,
        maxlength: 500
    },
    status: {
        type: String,
        enum: ['å¾…åŠ', 'è¿›è¡Œä¸­', 'å·²å®Œæˆ'],
        default: 'å¾…åŠ'
    },
    priority: {
        type: String,
        enum: ['ä½', 'ä¸­', 'é«˜'],
        default: 'ä¸­'
    },
    dueDate: {
        type: Date
    },
    assignedTo: {
        type: mongoose.Schema.Types.ObjectId,
        ref: 'User',
        required: true
    },
    createdBy: {
        type: mongoose.Schema.Types.ObjectId,
        ref: 'User',
        required: true
    },
    tags: [{
        type: String,
        trim: true
    }]
}, {
    timestamps: true
});

// ç´¢å¼•ä¼˜åŒ–
taskSchema.index({ assignedTo: 1, status: 1 });
taskSchema.index({ createdBy: 1 });
taskSchema.index({ dueDate: 1 });

module.exports = mongoose.model('Task', taskSchema);</code></pre>
          </div>

          <h3>è®¤è¯æ§åˆ¶å™¨</h3>
          <div class="code-block">
            <pre><code>// src/controllers/authController.js
const jwt = require('jsonwebtoken');
const User = require('../models/User');

const generateToken = (userId) => {
    return jwt.sign({ userId }, process.env.JWT_SECRET || 'your-secret-key', {
        expiresIn: '7d'
    });
};

const register = async (req, res) => {
    try {
        const { username, email, password } = req.body;

        // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²å­˜åœ¨
        const existingUser = await User.findOne({
            $or: [{ email }, { username }]
        });

        if (existingUser) {
            return res.status(400).json({
                message: 'ç”¨æˆ·åæˆ–é‚®ç®±å·²å­˜åœ¨'
            });
        }

        // åˆ›å»ºæ–°ç”¨æˆ·
        const user = new User({ username, email, password });
        await user.save();

        // ç”Ÿæˆtoken
        const token = generateToken(user._id);

        res.status(201).json({
            message: 'æ³¨å†ŒæˆåŠŸ',
            token,
            user: {
                id: user._id,
                username: user.username,
                email: user.email,
                avatar: user.avatar
            }
        });
    } catch (error) {
        console.error('æ³¨å†Œé”™è¯¯:', error);
        res.status(500).json({ message: 'æ³¨å†Œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•' });
    }
};

const login = async (req, res) => {
    try {
        const { email, password } = req.body;

        // æŸ¥æ‰¾ç”¨æˆ·
        const user = await User.findOne({ email });
        if (!user) {
            return res.status(401).json({ message: 'é‚®ç®±æˆ–å¯†ç é”™è¯¯' });
        }

        // éªŒè¯å¯†ç 
        const isPasswordValid = await user.comparePassword(password);
        if (!isPasswordValid) {
            return res.status(401).json({ message: 'é‚®ç®±æˆ–å¯†ç é”™è¯¯' });
        }

        // ç”Ÿæˆtoken
        const token = generateToken(user._id);

        res.json({
            message: 'ç™»å½•æˆåŠŸ',
            token,
            user: {
                id: user._id,
                username: user.username,
                email: user.email,
                avatar: user.avatar
            }
        });
    } catch (error) {
        console.error('ç™»å½•é”™è¯¯:', error);
        res.status(500).json({ message: 'ç™»å½•å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•' });
    }
};

module.exports = { register, login };</code></pre>
          </div>
        </section>

        <section id="frontend-react">
          <h2>å‰ç«¯Reactåº”ç”¨</h2>

          <h3>é¡¹ç›®åˆå§‹åŒ–</h3>
          <div class="code-block">
            <pre><code># åˆ›å»ºReactåº”ç”¨
cd .. # å›åˆ°é¡¹ç›®æ ¹ç›®å½•
npx create-react-app frontend --template typescript
cd frontend

# å®‰è£…é¢å¤–ä¾èµ–
npm install axios react-router-dom @types/react-router-dom
npm install tailwindcss @tailwindcss/forms
npm install react-hot-toast lucide-react

# é…ç½®Tailwind CSS
npx tailwindcss init -p</code></pre>
          </div>

          <h3>åº”ç”¨å…¥å£ç»„ä»¶</h3>
          <div class="code-block">
            <pre><code>// src/App.tsx
import React from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import { Toaster } from 'react-hot-toast';
import { AuthProvider, useAuth } from './contexts/AuthContext';
import Login from './components/Auth/Login';
import Register from './components/Auth/Register';
import Dashboard from './components/Dashboard/Dashboard';
import TaskList from './components/Tasks/TaskList';
import './App.css';

const ProtectedRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const { user, loading } = useAuth();
  
  if (loading) {
    return <div className="flex justify-center items-center h-screen">
      <div className="animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"></div>
    </div>;
  }
  
  return user ? <>{children}</> : <Navigate to="/login" />;
};

const App: React.FC = () => {
  return (
    <AuthProvider>
      <Router>
        <div className="min-h-screen bg-gray-50">
          <Routes>
            <Route path="/login" element={<Login />} />
            <Route path="/register" element={<Register />} />
            <Route path="/dashboard" element={
              <ProtectedRoute>
                <Dashboard />
              </ProtectedRoute>
            } />
            <Route path="/tasks" element={
              <ProtectedRoute>
                <TaskList />
              </ProtectedRoute>
            } />
            <Route path="/" element={<Navigate to="/dashboard" />} />
          </Routes>
          <Toaster position="top-right" />
        </div>
      </Router>
    </AuthProvider>
  );
};

export default App;</code></pre>
          </div>

          <h3>è®¤è¯ä¸Šä¸‹æ–‡</h3>
          <div class="code-block">
            <pre><code>// src/contexts/AuthContext.tsx
import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';
import axios from 'axios';
import toast from 'react-hot-toast';

interface User {
  id: string;
  username: string;
  email: string;
  avatar: string;
}

interface AuthContextType {
  user: User | null;
  loading: boolean;
  login: (email: string, password: string) => Promise<void>;
  register: (username: string, email: string, password: string) => Promise<void>;
  logout: () => void;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (context === undefined) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};

interface AuthProviderProps {
  children: ReactNode;
}

export const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);

  // é…ç½®axiosé»˜è®¤è®¾ç½®
  useEffect(() => {
    const token = localStorage.getItem('token');
    if (token) {
      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;
      // éªŒè¯tokenæœ‰æ•ˆæ€§
      verifyToken();
    } else {
      setLoading(false);
    }
  }, []);

  const verifyToken = async () => {
    try {
      const response = await axios.get('/api/auth/verify');
      setUser(response.data.user);
    } catch (error) {
      localStorage.removeItem('token');
      delete axios.defaults.headers.common['Authorization'];
    } finally {
      setLoading(false);
    }
  };

  const login = async (email: string, password: string) => {
    try {
      const response = await axios.post('/api/auth/login', { email, password });
      const { token, user } = response.data;
      
      localStorage.setItem('token', token);
      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;
      setUser(user);
      
      toast.success('ç™»å½•æˆåŠŸï¼');
    } catch (error: any) {
      const message = error.response?.data?.message || 'ç™»å½•å¤±è´¥';
      toast.error(message);
      throw error;
    }
  };

  const register = async (username: string, email: string, password: string) => {
    try {
      const response = await axios.post('/api/auth/register', {
        username,
        email,
        password
      });
      const { token, user } = response.data;
      
      localStorage.setItem('token', token);
      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;
      setUser(user);
      
      toast.success('æ³¨å†ŒæˆåŠŸï¼');
    } catch (error: any) {
      const message = error.response?.data?.message || 'æ³¨å†Œå¤±è´¥';
      toast.error(message);
      throw error;
    }
  };

  const logout = () => {
    localStorage.removeItem('token');
    delete axios.defaults.headers.common['Authorization'];
    setUser(null);
    toast.success('å·²é€€å‡ºç™»å½•');
  };

  const value = {
    user,
    loading,
    login,
    register,
    logout
  };

  return (
    <AuthContext.Provider value={value}>
      {children}
    </AuthContext.Provider>
  );
};</code></pre>
          </div>

          <h3>ä»»åŠ¡åˆ—è¡¨ç»„ä»¶</h3>
          <div class="code-block">
            <pre><code>// src/components/Tasks/TaskList.tsx
import React, { useState, useEffect } from 'react';
import axios from 'axios';
import { Plus, Search, Filter } from 'lucide-react';
import TaskCard from './TaskCard';
import TaskModal from './TaskModal';
import toast from 'react-hot-toast';

interface Task {
  _id: string;
  title: string;
  description: string;
  status: 'å¾…åŠ' | 'è¿›è¡Œä¸­' | 'å·²å®Œæˆ';
  priority: 'ä½' | 'ä¸­' | 'é«˜';
  dueDate?: string;
  tags: string[];
  createdAt: string;
  updatedAt: string;
}

const TaskList: React.FC = () => {
  const [tasks, setTasks] = useState<Task[]>([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [statusFilter, setStatusFilter] = useState<string>('all');
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [editingTask, setEditingTask] = useState<Task | null>(null);

  useEffect(() => {
    fetchTasks();
  }, []);

  const fetchTasks = async () => {
    try {
      const response = await axios.get('/api/tasks');
      setTasks(response.data);
    } catch (error) {
      toast.error('è·å–ä»»åŠ¡åˆ—è¡¨å¤±è´¥');
    } finally {
      setLoading(false);
    }
  };

  const handleCreateTask = async (taskData: Partial<Task>) => {
    try {
      const response = await axios.post('/api/tasks', taskData);
      setTasks([response.data, ...tasks]);
      toast.success('ä»»åŠ¡åˆ›å»ºæˆåŠŸ');
      setIsModalOpen(false);
    } catch (error) {
      toast.error('åˆ›å»ºä»»åŠ¡å¤±è´¥');
    }
  };

  const handleUpdateTask = async (taskId: string, taskData: Partial<Task>) => {
    try {
      const response = await axios.put(`/api/tasks/${taskId}`, taskData);
      setTasks(tasks.map(task => 
        task._id === taskId ? response.data : task
      ));
      toast.success('ä»»åŠ¡æ›´æ–°æˆåŠŸ');
      setEditingTask(null);
      setIsModalOpen(false);
    } catch (error) {
      toast.error('æ›´æ–°ä»»åŠ¡å¤±è´¥');
    }
  };

  const handleDeleteTask = async (taskId: string) => {
    if (!window.confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä»»åŠ¡å—ï¼Ÿ')) return;
    
    try {
      await axios.delete(`/api/tasks/${taskId}`);
      setTasks(tasks.filter(task => task._id !== taskId));
      toast.success('ä»»åŠ¡åˆ é™¤æˆåŠŸ');
    } catch (error) {
      toast.error('åˆ é™¤ä»»åŠ¡å¤±è´¥');
    }
  };

  const filteredTasks = tasks.filter(task => {
    const matchesSearch = task.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         task.description.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesStatus = statusFilter === 'all' || task.status === statusFilter;
    return matchesSearch && matchesStatus;
  });

  if (loading) {
    return <div className="flex justify-center items-center h-64">
      <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"></div>
    </div>;
  }

  return (
    <div className="max-w-6xl mx-auto p-6">
      <div className="flex justify-between items-center mb-6">
        <h1 className="text-3xl font-bold text-gray-900">ä»»åŠ¡ç®¡ç†</h1>
        <button
          onClick={() => setIsModalOpen(true)}
          className="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2"
        >
          <Plus size={20} />
          æ–°å»ºä»»åŠ¡
        </button>
      </div>

      {/* æœç´¢å’Œè¿‡æ»¤ */}
      <div className="flex gap-4 mb-6">
        <div className="flex-1 relative">
          <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
          <input
            type="text"
            placeholder="æœç´¢ä»»åŠ¡..."
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
            className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          />
        </div>
        <select
          value={statusFilter}
          onChange={(e) => setStatusFilter(e.target.value)}
          className="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        >
          <option value="all">æ‰€æœ‰çŠ¶æ€</option>
          <option value="å¾…åŠ">å¾…åŠ</option>
          <option value="è¿›è¡Œä¸­">è¿›è¡Œä¸­</option>
          <option value="å·²å®Œæˆ">å·²å®Œæˆ</option>
        </select>
      </div>

      {/* ä»»åŠ¡åˆ—è¡¨ */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {filteredTasks.map(task => (
          <TaskCard
            key={task._id}
            task={task}
            onEdit={(task) => {
              setEditingTask(task);
              setIsModalOpen(true);
            }}
            onDelete={handleDeleteTask}
          />
        ))}
      </div>

      {filteredTasks.length === 0 && (
        <div className="text-center py-12">
          <p className="text-gray-500 text-lg">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ä»»åŠ¡</p>
        </div>
      )}

      {/* ä»»åŠ¡æ¨¡æ€æ¡† */}
      {isModalOpen && (
        <TaskModal
          task={editingTask}
          onSave={editingTask ? 
            (data) => handleUpdateTask(editingTask._id, data) : 
            handleCreateTask
          }
          onClose={() => {
            setIsModalOpen(false);
            setEditingTask(null);
          }}
        />
      )}
    </div>
  );
};

export default TaskList;</code></pre>
          </div>
        </section>

        <section id="database-design">
          <h2>æ•°æ®åº“è®¾è®¡</h2>

          <h3>MongoDBé›†åˆç»“æ„</h3>
          <div class="example-box">
            <h4>ç”¨æˆ·é›†åˆ (users)</h4>
            <div class="code-block">
              <pre><code>{
  "_id": ObjectId("..."),
  "username": "å¼ ä¸‰",
  "email": "zhangsan@example.com",
  "password": "$2a$10$...", // åŠ å¯†åçš„å¯†ç 
  "avatar": "https://example.com/avatar.jpg",
  "createdAt": ISODate("2024-01-01T00:00:00Z"),
  "updatedAt": ISODate("2024-01-01T00:00:00Z")
}</code></pre>
            </div>
          </div>

          <div class="example-box">
            <h4>ä»»åŠ¡é›†åˆ (tasks)</h4>
            <div class="code-block">
              <pre><code>{
  "_id": ObjectId("..."),
  "title": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
  "description": "ç¼–å†™é¡¹ç›®çš„æŠ€æœ¯æ–‡æ¡£å’Œç”¨æˆ·æ‰‹å†Œ",
  "status": "è¿›è¡Œä¸­",
  "priority": "é«˜",
  "dueDate": ISODate("2024-09-15T00:00:00Z"),
  "assignedTo": ObjectId("..."), // ç”¨æˆ·ID
  "createdBy": ObjectId("..."),  // åˆ›å»ºè€…ID
  "tags": ["æ–‡æ¡£", "é¡¹ç›®"],
  "createdAt": ISODate("2024-08-01T00:00:00Z"),
  "updatedAt": ISODate("2024-08-15T00:00:00Z")
}</code></pre>
            </div>
          </div>

          <h3>æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–</h3>
          <div class="code-block">
            <pre><code>// MongoDBç´¢å¼•åˆ›å»ºè„šæœ¬
db.users.createIndex({ "email": 1 }, { unique: true });
db.users.createIndex({ "username": 1 }, { unique: true });

db.tasks.createIndex({ "assignedTo": 1, "status": 1 });
db.tasks.createIndex({ "createdBy": 1 });
db.tasks.createIndex({ "dueDate": 1 });
db.tasks.createIndex({ "createdAt": -1 });

// æ–‡æœ¬æœç´¢ç´¢å¼•
db.tasks.createIndex({ 
  "title": "text", 
  "description": "text" 
});</code></pre>
          </div>
        </section>

        <section id="authentication">
          <h2>ç”¨æˆ·è®¤è¯</h2>

          <h3>JWTä¸­é—´ä»¶</h3>
          <div class="code-block">
            <pre><code>// src/middleware/auth.js
const jwt = require('jsonwebtoken');
const User = require('../models/User');

const authMiddleware = async (req, res, next) => {
    try {
        const token = req.header('Authorization')?.replace('Bearer ', '');
        
        if (!token) {
            return res.status(401).json({ message: 'è®¿é—®è¢«æ‹’ç»ï¼Œè¯·æä¾›æœ‰æ•ˆçš„token' });
        }

        const decoded = jwt.verify(token, process.env.JWT_SECRET || 'your-secret-key');
        const user = await User.findById(decoded.userId).select('-password');
        
        if (!user) {
            return res.status(401).json({ message: 'ç”¨æˆ·ä¸å­˜åœ¨' });
        }

        req.user = user;
        next();
    } catch (error) {
        if (error.name === 'JsonWebTokenError') {
            return res.status(401).json({ message: 'æ— æ•ˆçš„token' });
        }
        if (error.name === 'TokenExpiredError') {
            return res.status(401).json({ message: 'tokenå·²è¿‡æœŸ' });
        }
        res.status(500).json({ message: 'æœåŠ¡å™¨é”™è¯¯' });
    }
};

module.exports = authMiddleware;</code></pre>
          </div>

          <h3>å¯†ç å®‰å…¨ç­–ç•¥</h3>
          <div class="tips-grid">
            <div class="tip-card">
              <h4>ğŸ” å¯†ç åŠ å¯†</h4>
              <p>ä½¿ç”¨bcryptè¿›è¡Œå¯†ç å“ˆå¸Œï¼Œç›å€¼è½®æ•°è®¾ç½®ä¸º10</p>
            </div>
            <div class="tip-card">
              <h4>ğŸ« JWTé…ç½®</h4>
              <p>è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´ï¼Œä½¿ç”¨å¼ºå¯†é’¥ç­¾å</p>
            </div>
            <div class="tip-card">
              <h4>ğŸ›¡ï¸ è¾“å…¥éªŒè¯</h4>
              <p>å¯¹æ‰€æœ‰ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼çš„éªŒè¯å’Œæ¸…ç†</p>
            </div>
            <div class="tip-card">
              <h4>ğŸš« é˜²æŠ¤æªæ–½</h4>
              <p>å®æ–½é€Ÿç‡é™åˆ¶å’ŒCORSç­–ç•¥</p>
            </div>
          </div>
        </section>

        <section id="deployment">
          <h2>éƒ¨ç½²é…ç½®</h2>

          <h3>Dockeré…ç½®</h3>
          <div class="code-block">
            <pre><code># Dockerfile (åç«¯)
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .

EXPOSE 5000

CMD ["npm", "start"]</code></pre>
          </div>

          <div class="code-block">
            <pre><code># docker-compose.yml
version: '3.8'

services:
  mongodb:
    image: mongo:5.0
    container_name: task-manager-db
    restart: unless-stopped
    ports:
      - "27017:27017"
    environment:
      MONGO_INITDB_ROOT_USERNAME: admin
      MONGO_INITDB_ROOT_PASSWORD: password
    volumes:
      - mongodb_data:/data/db

  backend:
    build: ./backend
    container_name: task-manager-api
    restart: unless-stopped
    ports:
      - "5000:5000"
    environment:
      - NODE_ENV=production
      - MONGODB_URI=mongodb://admin:password@mongodb:27017/taskmanager?authSource=admin
      - JWT_SECRET=your-super-secret-jwt-key
    depends_on:
      - mongodb

  frontend:
    build: ./frontend
    container_name: task-manager-web
    restart: unless-stopped
    ports:
      - "3000:80"
    depends_on:
      - backend

  nginx:
    image: nginx:alpine
    container_name: task-manager-proxy
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - frontend
      - backend

volumes:
  mongodb_data:</code></pre>
          </div>

          <h3>Nginxé…ç½®</h3>
          <div class="code-block">
            <pre><code># nginx.conf
events {
    worker_connections 1024;
}

http {
    upstream backend {
        server backend:5000;
    }

    upstream frontend {
        server frontend:80;
    }

    server {
        listen 80;
        server_name ccclub.club www.ccclub.club;

        # APIä»£ç†
        location /api/ {
            proxy_pass http://backend;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }

        # å‰ç«¯åº”ç”¨
        location / {
            proxy_pass http://frontend;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }

        # é™æ€æ–‡ä»¶ç¼“å­˜
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
            expires 1y;
            add_header Cache-Control "public, immutable";
        }
    }
}</code></pre>
          </div>

          <div class="warning-box">
            <h4>ğŸš€ éƒ¨ç½²æ£€æŸ¥æ¸…å•</h4>
            <ul>
              <li><strong>ç¯å¢ƒå˜é‡</strong>ï¼šç¡®ä¿æ‰€æœ‰æ•æ„Ÿä¿¡æ¯ä½¿ç”¨ç¯å¢ƒå˜é‡</li>
              <li><strong>HTTPSé…ç½®</strong>ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»å¯ç”¨SSL/TLS</li>
              <li><strong>æ•°æ®åº“å¤‡ä»½</strong>ï¼šè®¾ç½®å®šæœŸæ•°æ®å¤‡ä»½ç­–ç•¥</li>
              <li><strong>ç›‘æ§æ—¥å¿—</strong>ï¼šé…ç½®åº”ç”¨å’Œé”™è¯¯æ—¥å¿—ç›‘æ§</li>
              <li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå¯ç”¨gzipå‹ç¼©å’Œé™æ€æ–‡ä»¶ç¼“å­˜</li>
              <li><strong>å®‰å…¨å¤´éƒ¨</strong>ï¼šé…ç½®å®‰å…¨ç›¸å…³çš„HTTPå¤´éƒ¨</li>
            </ul>
          </div>
        </section>

        <div class="tutorial-navigation">
          <a href="python-data-analysis.html" class="btn btn-secondary">ä¸Šä¸€ä¸ªç¤ºä¾‹ï¼šæ•°æ®åˆ†æ</a>
          <a href="../#examples" class="btn btn-primary">è¿”å›ç¤ºä¾‹åˆ—è¡¨</a>
        </div>
      </article>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2024 Claude Code Club. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚</p>
    </div>
  </footer>

  <script src="../scripts/main.js"></script>
</body>

</html>