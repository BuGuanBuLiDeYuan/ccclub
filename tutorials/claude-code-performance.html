<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code æ€§èƒ½ä¼˜åŒ–æŒ‡å— - Claude Code Club</title>
    <meta name="description" content="æŒæ¡Claude Codeæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œæå‡ä»£ç æ‰§è¡Œæ•ˆç‡å’Œç³»ç»Ÿå“åº”é€Ÿåº¦">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/tutorial.css">
    <link rel="icon" type="image/svg+xml" href="../assets/logo-icon.svg">
</head>

<body>
        <header class="header">
        <nav class="nav">
            <div class="nav-container">
                <a href="../" class="logo">
                    <img src="../assets/logo-simple.png" alt="Claude Code Club" class="logo-img">
                </a>
                <ul class="nav-menu">
                    <li><a href="../#home">é¦–é¡µ</a></li>
                    <li><a href="../#tutorials">æ•™ç¨‹</a></li>
                    <li><a href="../#examples">ç¤ºä¾‹</a></li>
                    <li><a href="../community.html">ç¤¾åŒº</a></li>
                    <li><a href="../about.html">å…³äº</a></li>
                    <li><a href="../subscription.html">è®¢é˜…</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <main class="tutorial-content">
        <div class="container">
            <article>
                <header class="tutorial-header">
                    <h1>Claude Code æ€§èƒ½ä¼˜åŒ–æŒ‡å—</h1>
                    <div class="tutorial-meta">
                        <span class="difficulty advanced">é«˜çº§</span>
                        <span class="duration">é˜…è¯»æ—¶é—´: 16åˆ†é’Ÿ</span>
                        <span class="category">æ€§èƒ½ä¼˜åŒ–</span>
                    </div>
                    <p class="tutorial-description">
                        æ·±å…¥äº†è§£Claude Codeæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œä»ç®—æ³•ä¼˜åŒ–åˆ°ç³»ç»Ÿè°ƒä¼˜ï¼Œå…¨é¢æå‡åº”ç”¨æ€§èƒ½ã€‚
                    </p>
                </header>

                <div class="tutorial-body">
                    <section class="tutorial-section">
                        <h2>æ€§èƒ½ä¼˜åŒ–ç­–ç•¥æ¦‚è§ˆ</h2>
                        <div class="performance-pyramid">
                            <div class="pyramid-level level-1">
                                <h3>ğŸ—ï¸ æ¶æ„å±‚ä¼˜åŒ–</h3>
                                <p>ç³»ç»Ÿæ¶æ„ã€æ•°æ®åº“è®¾è®¡ã€ç¼“å­˜ç­–ç•¥</p>
                            </div>
                            <div class="pyramid-level level-2">
                                <h3>âš¡ ç®—æ³•å±‚ä¼˜åŒ–</h3>
                                <p>ç®—æ³•å¤æ‚åº¦ã€æ•°æ®ç»“æ„é€‰æ‹©</p>
                            </div>
                            <div class="pyramid-level level-3">
                                <h3>ğŸ”§ ä»£ç å±‚ä¼˜åŒ–</h3>
                                <p>ä»£ç å®ç°ã€å†…å­˜ç®¡ç†</p>
                            </div>
                        </div>
                    </section>

                    <section class="tutorial-section">
                        <h2>ç®—æ³•ä¸æ•°æ®ç»“æ„ä¼˜åŒ–</h2>
                        <h3>æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–</h3>
                        <div class="code-comparison">
                            <div class="before">
                                <h4>âŒ O(nÂ²) æš´åŠ›è§£æ³•</h4>
                                <pre><code>// æŸ¥æ‰¾æ•°ç»„ä¸­çš„é‡å¤å…ƒç´ 
function findDuplicates(arr) {
    const duplicates = [];
    for (let i = 0; i < arr.length; i++) {
        for (let j = i + 1; j < arr.length; j++) {
            if (arr[i] === arr[j] && !duplicates.includes(arr[i])) {
                duplicates.push(arr[i]);
            }
        }
    }
    return duplicates;
}</code></pre>
                            </div>
                            <div class="after">
                                <h4>âœ… O(n) ä¼˜åŒ–è§£æ³•</h4>
                                <pre><code>// ä½¿ç”¨Setä¼˜åŒ–æŸ¥æ‰¾
function findDuplicates(arr) {
    const seen = new Set();
    const duplicates = new Set();
    
    for (const item of arr) {
        if (seen.has(item)) {
            duplicates.add(item);
        } else {
            seen.add(item);
        }
    }
    
    return Array.from(duplicates);
}</code></pre>
                            </div>
                        </div>

                        <h3>å†…å­˜ä¼˜åŒ–æŠ€å·§</h3>
                        <pre><code>// å¤§æ•°æ®å¤„ç†çš„å†…å­˜ä¼˜åŒ–
class DataProcessor {
    // ä½¿ç”¨ç”Ÿæˆå™¨é¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®
    *processLargeDataset(filePath) {
        const stream = fs.createReadStream(filePath, { encoding: 'utf8' });
        let buffer = '';
        
        for await (const chunk of stream) {
            buffer += chunk;
            const lines = buffer.split('\n');
            buffer = lines.pop(); // ä¿ç•™ä¸å®Œæ•´çš„è¡Œ
            
            for (const line of lines) {
                if (line.trim()) {
                    yield this.processLine(line);
                }
            }
        }
        
        // å¤„ç†æœ€åä¸€è¡Œ
        if (buffer.trim()) {
            yield this.processLine(buffer);
        }
    }
    
    // æ‰¹é‡å¤„ç†å‡å°‘å†…å­˜å ç”¨
    async processBatch(items, batchSize = 1000) {
        const results = [];
        
        for (let i = 0; i < items.length; i += batchSize) {
            const batch = items.slice(i, i + batchSize);
            const batchResults = await Promise.all(
                batch.map(item => this.processItem(item))
            );
            results.push(...batchResults);
            
            // å¼ºåˆ¶åƒåœ¾å›æ”¶ï¼ˆåœ¨Node.jsä¸­ï¼‰
            if (global.gc && i % (batchSize * 10) === 0) {
                global.gc();
            }
        }
        
        return results;
    }
}</code></pre>
                    </section>

                    <section class="tutorial-section">
                        <h2>æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–</h2>
                        <h3>æŸ¥è¯¢ä¼˜åŒ–</h3>
                        <pre><code>// æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–ç¤ºä¾‹
class UserService {
    // ä½¿ç”¨ç´¢å¼•å’Œé™åˆ¶æŸ¥è¯¢å­—æ®µ
    async getUsers(filters, pagination) {
        const { page = 1, limit = 20 } = pagination;
        const offset = (page - 1) * limit;
        
        // åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ
        const query = `
            SELECT id, name, email, created_at
            FROM users 
            WHERE status = ? 
            AND created_at >= ?
            ORDER BY created_at DESC
            LIMIT ? OFFSET ?
        `;
        
        return await db.query(query, [
            filters.status,
            filters.startDate,
            limit,
            offset
        ]);
    }
    
    // æ‰¹é‡æ“ä½œä¼˜åŒ–
    async createUsers(users) {
        // ä½¿ç”¨æ‰¹é‡æ’å…¥è€Œä¸æ˜¯é€ä¸ªæ’å…¥
        const values = users.map(user => [
            user.name,
            user.email,
            user.password,
            new Date()
        ]);
        
        const query = `
            INSERT INTO users (name, email, password, created_at)
            VALUES ?
        `;
        
        return await db.query(query, [values]);
    }
    
    // è¿æ¥æŸ¥è¯¢ä¼˜åŒ–
    async getUsersWithProfiles() {
        // ä½¿ç”¨JOINè€Œä¸æ˜¯N+1æŸ¥è¯¢
        const query = `
            SELECT 
                u.id, u.name, u.email,
                p.bio, p.avatar, p.location
            FROM users u
            LEFT JOIN profiles p ON u.id = p.user_id
            WHERE u.status = 'active'
        `;
        
        return await db.query(query);
    }
}</code></pre>

                        <h3>ç¼“å­˜ç­–ç•¥</h3>
                        <pre><code>// å¤šå±‚ç¼“å­˜ç­–ç•¥
class CacheManager {
    constructor() {
        this.memoryCache = new Map();
        this.redisClient = redis.createClient();
    }
    
    async get(key) {
        // L1: å†…å­˜ç¼“å­˜
        if (this.memoryCache.has(key)) {
            return this.memoryCache.get(key);
        }
        
        // L2: Redisç¼“å­˜
        const redisValue = await this.redisClient.get(key);
        if (redisValue) {
            const parsed = JSON.parse(redisValue);
            // å›å¡«å†…å­˜ç¼“å­˜
            this.memoryCache.set(key, parsed);
            return parsed;
        }
        
        return null;
    }
    
    async set(key, value, ttl = 3600) {
        // åŒæ—¶è®¾ç½®ä¸¤å±‚ç¼“å­˜
        this.memoryCache.set(key, value);
        await this.redisClient.setex(key, ttl, JSON.stringify(value));
    }
    
    // ç¼“å­˜é¢„çƒ­
    async warmupCache(keys) {
        const pipeline = this.redisClient.pipeline();
        
        for (const key of keys) {
            pipeline.get(key);
        }
        
        const results = await pipeline.exec();
        
        results.forEach(([err, value], index) => {
            if (!err && value) {
                const key = keys[index];
                this.memoryCache.set(key, JSON.parse(value));
            }
        });
    }
}</code></pre>
                    </section>

                    <section class="tutorial-section">
                        <h2>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</h2>
                        <h3>ä»£ç åˆ†å‰²ä¸æ‡’åŠ è½½</h3>
                        <pre><code>// Reactä»£ç åˆ†å‰²ç¤ºä¾‹
import { lazy, Suspense } from 'react';

// æ‡’åŠ è½½ç»„ä»¶
const Dashboard = lazy(() => import('./Dashboard'));
const UserProfile = lazy(() => import('./UserProfile'));
const Analytics = lazy(() => import('./Analytics'));

function App() {
    return (
        <Router>
            <Suspense fallback={<LoadingSpinner />}>
                <Routes>
                    <Route path="/dashboard" element={<Dashboard />} />
                    <Route path="/profile" element={<UserProfile />} />
                    <Route path="/analytics" element={<Analytics />} />
                </Routes>
            </Suspense>
        </Router>
    );
}

// é¢„åŠ è½½å…³é”®è·¯ç”±
const preloadRoutes = () => {
    import('./Dashboard');
    import('./UserProfile');
};

// åœ¨ç”¨æˆ·äº¤äº’æ—¶é¢„åŠ è½½
document.addEventListener('mouseover', (e) => {
    if (e.target.matches('a[href="/dashboard"]')) {
        import('./Dashboard');
    }
});</code></pre>

                        <h3>è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–</h3>
                        <pre><code>// è™šæ‹Ÿæ»šåŠ¨å®ç°
class VirtualList {
    constructor(container, items, itemHeight) {
        this.container = container;
        this.items = items;
        this.itemHeight = itemHeight;
        this.visibleCount = Math.ceil(container.clientHeight / itemHeight) + 2;
        this.startIndex = 0;
        
        this.render();
        this.bindEvents();
    }
    
    render() {
        const endIndex = Math.min(
            this.startIndex + this.visibleCount,
            this.items.length
        );
        
        const visibleItems = this.items.slice(this.startIndex, endIndex);
        const offsetY = this.startIndex * this.itemHeight;
        
        this.container.innerHTML = `
            <div style="height: ${this.items.length * this.itemHeight}px; position: relative;">
                <div style="transform: translateY(${offsetY}px);">
                    ${visibleItems.map(item => `
                        <div style="height: ${this.itemHeight}px;">
                            ${this.renderItem(item)}
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
    }
    
    bindEvents() {
        this.container.addEventListener('scroll', () => {
            const newStartIndex = Math.floor(
                this.container.scrollTop / this.itemHeight
            );
            
            if (newStartIndex !== this.startIndex) {
                this.startIndex = newStartIndex;
                this.render();
            }
        });
    }
}</code></pre>
                    </section>

                    <section class="tutorial-section">
                        <h2>ç½‘ç»œæ€§èƒ½ä¼˜åŒ–</h2>
                        <h3>è¯·æ±‚ä¼˜åŒ–</h3>
                        <pre><code>// è¯·æ±‚åˆå¹¶å’Œç¼“å­˜
class APIClient {
    constructor() {
        this.requestCache = new Map();
        this.pendingRequests = new Map();
    }
    
    async get(url, options = {}) {
        const cacheKey = `${url}${JSON.stringify(options)}`;
        
        // æ£€æŸ¥ç¼“å­˜
        if (this.requestCache.has(cacheKey)) {
            const cached = this.requestCache.get(cacheKey);
            if (Date.now() - cached.timestamp < 60000) { // 1åˆ†é’Ÿç¼“å­˜
                return cached.data;
            }
        }
        
        // æ£€æŸ¥æ˜¯å¦æœ‰ç›¸åŒçš„è¯·æ±‚æ­£åœ¨è¿›è¡Œ
        if (this.pendingRequests.has(cacheKey)) {
            return this.pendingRequests.get(cacheKey);
        }
        
        // å‘èµ·æ–°è¯·æ±‚
        const promise = fetch(url, options)
            .then(response => response.json())
            .then(data => {
                // ç¼“å­˜ç»“æœ
                this.requestCache.set(cacheKey, {
                    data,
                    timestamp: Date.now()
                });
                
                // æ¸…é™¤pendingçŠ¶æ€
                this.pendingRequests.delete(cacheKey);
                
                return data;
            })
            .catch(error => {
                this.pendingRequests.delete(cacheKey);
                throw error;
            });
        
        this.pendingRequests.set(cacheKey, promise);
        return promise;
    }
    
    // æ‰¹é‡è¯·æ±‚
    async batchGet(urls) {
        const requests = urls.map(url => this.get(url));
        return Promise.all(requests);
    }
}</code></pre>

                        <h3>èµ„æºå‹ç¼©ä¸CDN</h3>
                        <pre><code>// Webpackä¼˜åŒ–é…ç½®
module.exports = {
    optimization: {
        splitChunks: {
            chunks: 'all',
            cacheGroups: {
                vendor: {
                    test: /[\\/]node_modules[\\/]/,
                    name: 'vendors',
                    chunks: 'all',
                },
                common: {
                    name: 'common',
                    minChunks: 2,
                    chunks: 'all',
                    enforce: true
                }
            }
        },
        minimizer: [
            new TerserPlugin({
                terserOptions: {
                    compress: {
                        drop_console: true,
                        drop_debugger: true
                    }
                }
            }),
            new CssMinimizerPlugin()
        ]
    },
    plugins: [
        new CompressionPlugin({
            algorithm: 'gzip',
            test: /\.(js|css|html|svg)$/,
            threshold: 8192,
            minRatio: 0.8
        })
    ]
};</code></pre>
                    </section>

                    <section class="tutorial-section">
                        <h2>æ€§èƒ½ç›‘æ§ä¸åˆ†æ</h2>
                        <h3>æ€§èƒ½æŒ‡æ ‡æ”¶é›†</h3>
                        <pre><code>// æ€§èƒ½ç›‘æ§å·¥å…·
class PerformanceMonitor {
    constructor() {
        this.metrics = new Map();
        this.observers = [];
    }
    
    // ç›‘æ§APIå“åº”æ—¶é—´
    measureAPICall(name, fn) {
        return async (...args) => {
            const start = performance.now();
            
            try {
                const result = await fn(...args);
                const duration = performance.now() - start;
                
                this.recordMetric(`api.${name}`, {
                    duration,
                    status: 'success',
                    timestamp: Date.now()
                });
                
                return result;
            } catch (error) {
                const duration = performance.now() - start;
                
                this.recordMetric(`api.${name}`, {
                    duration,
                    status: 'error',
                    error: error.message,
                    timestamp: Date.now()
                });
                
                throw error;
            }
        };
    }
    
    // ç›‘æ§é¡µé¢æ€§èƒ½
    measurePageLoad() {
        if (typeof window !== 'undefined') {
            window.addEventListener('load', () => {
                const navigation = performance.getEntriesByType('navigation')[0];
                
                this.recordMetric('page.load', {
                    domContentLoaded: navigation.domContentLoadedEventEnd - navigation.domContentLoadedEventStart,
                    loadComplete: navigation.loadEventEnd - navigation.loadEventStart,
                    totalTime: navigation.loadEventEnd - navigation.fetchStart
                });
            });
        }
    }
    
    recordMetric(name, data) {
        if (!this.metrics.has(name)) {
            this.metrics.set(name, []);
        }
        
        this.metrics.get(name).push(data);
        
        // é€šçŸ¥è§‚å¯Ÿè€…
        this.observers.forEach(observer => observer(name, data));
    }
    
    getMetrics(name) {
        return this.metrics.get(name) || [];
    }
    
    getAverageMetric(name, field) {
        const metrics = this.getMetrics(name);
        if (metrics.length === 0) return 0;
        
        const sum = metrics.reduce((acc, metric) => acc + metric[field], 0);
        return sum / metrics.length;
    }
}</code></pre>
                    </section>

                    <section class="tutorial-section">
                        <h2>æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h2>
                        <div class="key-takeaways">
                            <h4>ä¼˜åŒ–ç­–ç•¥ä¼˜å…ˆçº§ï¼š</h4>
                            <ul>
                                <li>âœ… é¦–å…ˆä¼˜åŒ–ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ˆå½±å“æœ€å¤§ï¼‰</li>
                                <li>âœ… å®æ–½æœ‰æ•ˆçš„ç¼“å­˜ç­–ç•¥</li>
                                <li>âœ… ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢å’Œç´¢å¼•</li>
                                <li>âœ… å‡å°‘ç½‘ç»œè¯·æ±‚æ¬¡æ•°å’Œå¤§å°</li>
                                <li>âœ… å®æ–½ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½</li>
                                <li>âœ… æŒç»­ç›‘æ§å’Œåˆ†ææ€§èƒ½æŒ‡æ ‡</li>
                            </ul>
                        </div>

                        <div class="performance-metrics">
                            <h4>æ€§èƒ½ç›®æ ‡å‚è€ƒï¼š</h4>
                            <ul>
                                <li>é¡µé¢åŠ è½½æ—¶é—´: < 3ç§’</li>
                                <li>APIå“åº”æ—¶é—´: < 200ms</li>
                                <li>é¦–å±æ¸²æŸ“æ—¶é—´: < 1.5ç§’</li>
                                <li>å†…å­˜ä½¿ç”¨ç‡: < 80%</li>
                            </ul>
                        </div>
                    </section>
                </div>

                <footer class="tutorial-footer">
                    <div class="tutorial-navigation">
                        <a href="claude-code-security.html" class="nav-link prev">
                            â† ä¸Šä¸€ç¯‡ï¼šClaude Codeå®‰å…¨æœ€ä½³å®è·µ
                        </a>
                        <a href="claude-code-testing.html" class="nav-link next">
                            ä¸‹ä¸€ç¯‡ï¼šClaude Codeæµ‹è¯•ç­–ç•¥ â†’
                        </a>
                    </div>

                    <div class="tutorial-tags">
                        <span class="tag">æ€§èƒ½ä¼˜åŒ–</span>
                        <span class="tag">ç®—æ³•ä¼˜åŒ–</span>
                        <span class="tag">ç¼“å­˜ç­–ç•¥</span>
                        <span class="tag">ç›‘æ§åˆ†æ</span>
                    </div>
                </footer>
            </article>
        </div>
    </main>

        <div id="footer-placeholder"></div>

    <script src="../scripts/load-footer.js"></script>
    <script src="../scripts/wechat-share.js"></script>
</body>

</html>